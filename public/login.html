<!DOCTYPE html>
<html>
<head>
  <title>VX-OFC Admin Login</title>
</head>
<body style="background:black;color:white;text-align:center;padding-top:100px;">
  <h1>Admin Login</h1>
  <input type="password" id="password" placeholder="Enter password">
  <button onclick="login()">Login</button>
  <p id="status"></p>

  <script>
    async function login() {
      const pwd = document.getElementById("password").value;
      const res = await fetch('/api/sparky', {
        method: 'POST',
        body: JSON.stringify({ password: pwd })
      });
      const data = await res.json();
      if (data.success) {
        localStorage.setItem("admin", "true");
        window.location.href = "/admin.html";
      } else {
        document.getElementById("status").innerText = "Access denied!";
      }
    }
  </script>
</body>
</html>
